function Captcha(t,e){var n=API_URL+"/captcha/showImage",i=$('<img class="u-imgcode" src="'+n+"?"+ +new Date+'" alt="图片验证码" title="看不清换一张" ga="page-reg/click/yanzheng">'),o=function(){t.parent().find("input[name='captcha']").val(""),i.prop("src",n+"?"+ +new Date)};return i.appendTo(t).on("click",function(){o()}),{refresh:o}}function SmsCaptcha(t,e){var n,i="/shopApi/sms/sendCode",o="/shopApi/captcha/validateMobileCode",a=60,r=!1;return{locked:function(){return r},enable:function(){r=!1,t.text("发送验证码").prop("disabled",r)},refresh:function(){this.enable(),clearTimeout(n)},lockButton:function(){var e=this,i=a;r=!0,t.text("重新发送("+i+")").prop("disabled",r),n=setInterval(function(){i--,i>=1?t.text("重新发送("+i+")"):e.refresh()},1e3)},send:function(t,n,o){var a=this;t.type=e,util.post(i,t,function(t){a.lockButton(),"function"==typeof n&&n(t)},function(t){"function"==typeof o&&o(t)})},valid:function(t,n,i){t.type=e,util.post(o,t,function(t){"function"==typeof n&&n(t)},function(t){"function"==typeof i&&i(t)})}}}function SmsLoginCaptcha(t){var e,n="smslogin",i="/shopApi/sms/sendSignCode",o=60,a=!1;return{locked:function(){return a},refresh:function(){a=!1,t.text("发送验证码").prop("disabled",a),clearTimeout(e)},lockButton:function(){var n=this,i=o;a=!0,t.text("重新发送("+i+")").prop("disabled",a),e=setInterval(function(){i--,i>=1?t.text("重新发送("+i+")"):n.refresh()},1e3)},send:function(t,e,o){var a=this;t.type=n,util.post(i,t,function(t){a.lockButton(),"function"==typeof e&&e(t),util.noticeMsg("验证码已发送！")},function(t){"function"==typeof o&&o(t)})}}}function SmsSimpleCaptcha(t,e){var n,i="/shopApi/sms/simpleSendCode",o=60,a=!1,r=t.parents("form"),s=r.find("input[name='_csrf']");return{locked:function(){return a},refresh:function(){a=!1,t.text("发送验证码").prop("disabled",a),clearTimeout(n)},lockButton:function(){var e=this,i=o;a=!0,t.text("重新发送("+i+")").prop("disabled",a),n=setInterval(function(){i--,i>=1?t.text("重新发送("+i+")"):e.refresh()},1e3)},send:function(t,n,o){var a=this;t.type=e,t._csrf=s.val(),util.post(i,t,function(t){s.val(t._csrf),a.lockButton(),"function"==typeof n&&n(t),util.noticeMsg("验证码已发送！")},function(t){"undefined"!=typeof t.data._csrf&&s.val(t.data._csrf),"function"==typeof o&&o(t)})}}}function lockLayer(t){var e=void 0===t?"normal":"loading";return $("<div class='lock-layer "+e+"'></div>").appendTo("body"),$("html").addClass("noscroll"),$(window).on("beforeunload",function(t){return"页面加载中确认离开吗？"}),{close:function(){$("html").removeClass("noscroll"),$(".lock-layer").remove(),$(window).off("beforeunload")}}}function Mtips(t){function e(t){i=t}function n(){setTimeout(function(){i&&(l.fadeOut(),setTimeout(function(){l.remove(),o=!0},500))},c)}if(t.hasOwnProperty("content")){var i=!1,o=!1,a=void 0!==t.isAuto?t.isAuto:!0,r=void 0!==t.offsetX?t.offsetX:$(window).width()/2,s=void 0!==t.offsetY?t.offsetY:0,c=void 0!==t.timeout?t.timeout:3e3,l=$('<div class="m-tips"></div>').appendTo("body");l.css({left:r-l.outerWidth()/2,top:s+5}),l.html("function"==typeof t.content?t.content():t.content),l.fadeIn(),l.hover(function(){e(!1)},function(){e(!0),n()}),this.destroy=n,this.isDestroy=function(){return o},this.setCanDestroy=e,a&&(e(!0),n())}}function Mdialog(t){var e,n=!0,i={title:"",closeType:"destroy",closeByEsc:!0,closeByMask:!0};$.extend(i,t);var o=$('<div class="m-dialog"><div class="dialog-header"><div class="dialog-title">'+i.title+'</div><div class="dialog-close"><i class="icon-delivery-close"></i></div></div></div>').appendTo("body"),a=$('<div class="dialog-content"></div>').appendTo(o);i.m&&o.addClass("f-dialog-"+i.m);var r=function(){o.next(".m-dialog-mask").remove(),o.hide()},s=function(){o.next(".m-dialog-mask").remove(),o.remove(),e={}},c=function(){"destroy"===i.closeType?s():r(),n=!0,i.hasOwnProperty("closeCall")&&"function"==typeof i.closeCall&&i.closeCall(o)};return o.on("click",".dialog-close",c),i.closeByEsc&&$(document).on("keydown",function(t){t.stopPropagation(),n||27!==t.keyCode||c()}),e={$ele:o,content:function(t){return t instanceof jQuery?t.appendTo(a):a.html(t),this},open:function(t){var e=$(window).width(),a=$(window).height();"function"==typeof t&&t(o),$('<div class="m-dialog-mask"></div>').insertAfter(o).on("click",function(t){t.stopPropagation(),i.closeByMask&&c()}),o.css({left:(e-o.outerWidth())/2,top:void 0!==i.top?i.top:(a-o.outerHeight())/2}),o.show(),n=!1},close:r,destroy:s,width:function(t){return void 0!==t?(o.width(t),this):o.outerWidth()},height:function(t){return void 0!==t?(o.width(t),this):o.outerWidth()},padding:function(t){return o.css({padding:t}),this}}}function Mslider(t,e){void 0===e&&(e=5e3);var n=this,o=[];return n.total=t.length,n.current=null,n.currInterval=null,n.init=function(){if(t.length<=1)return void t.fadeIn();for(i=0;i<n.total;i++){var e=$(t[i]);e.hide(),o.push(e)}return n.current=0,n.start(),o},n.start=function(){var t=o[n.current];return t.fadeIn("slow","linear"),n.currInterval=setTimeout(function(){n.next()},e),n},n.next=function(){var t=n.current+1;return t>=n.total&&(t=0),o[n.current].fadeOut("fast","linear"),n.current=t,n.stop().start(),n},n.stop=function(){return clearTimeout(n.currInterval),n},n}function kwsCountdown(t,e){function n(){var e=i;e>=86400&&(o=Math.floor(e/86400),e-=86400*o),e>=3600&&(a=Math.floor(e/3600),e-=3600*a),e>=60&&(r=Math.floor(e/60),e-=60*r),s=Math.round(e);var n="";o>0&&(n+='<span class="days">'+o+"</span>天"),a>0&&(n+='<span class="hours">'+a+"</span>小时"),r>0&&(n+='<span class="min">'+r+"</span>分"),s>0&&(n+='<span class="sec">'+s+"</span>秒"),t.html(n)}var i=t.attr("data-diff");if(void 0===i||0>=i)return!1;var o=0,a=0,r=0,s=0;n();var c=setInterval(function(){1>i?(clearInterval(c),e&&e.complete?e.complete():location.reload()):(n(),i--)},1e3);return!0}function isIE(t){var e=document.createElement("b");return e.innerHTML="<!--[if IE "+t+"]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}function appInit(){this.topTool=function(){var t=$(".site-topbar");if(t.length>0){var e;e='<div class="container">',e+='<div class="nav"><a href="'+SITE_URL+'/index.html">科沃斯官网</a><span class="sep">|</span><a class="addFavorite" href="javascript:void(0)">收藏我们</a></div>',e+='<div class="user"></div>',e+='<div class="top-ad" data-adv="101001"></div>',e+="</div>",t.html(e),util.refreshUserInfo()}var n=$(".site-header .search>form"),o=$(".site-header .hotwords"),a=util.getCookie("searchKeywords");if(n.on("submit",function(){var t=$(this).find(".words"),e=t.val();return""!=e?location.href=util.SHOP_URL+"/search.html?word="+encodeURIComponent(e):t.focus(),!1}),o.length>0&&""!=a){var r=a.split("|"),s="";for(i in r)s+='<a href="'+util.SHOP_URL+"/search.html?word="+encodeURIComponent(r[i])+'">'+r[i]+"</a>";o.html(s)}if(t.length>0){var c=$('<div id="top_notice" class="mod_top_notice"><div class="container"><p class="text-content"></p><a class="close" href="javascript:void(0)" title="关闭"><span>关闭</span></a></div></div>');c.prependTo("body"),c.find("a.close").click(function(t){t.preventDefault(),c.fadeOut("400")}),$("a.addFavorite").on("click",function(){util.isIE()?window.external.AddFavorite(location.href,document.title):(c.find(".text-content").html("您的浏览器不支持,请按 Ctrl+D 手动收藏!"),c.fadeIn("400"))})}$(".qrcode-layer").mouseenter(function(t){var e=this;_ta=setTimeout(function(){$(e).find(".qrcode").fadeIn("400")},300)}).mouseleave(function(t){clearTimeout(_ta),$(this).find(".qrcode").fadeOut("400")})},this.bottomTool=function(){1!=util.getCookie("pc_fullscreen_100001")?util.jsonp(API_URL+"/commonApi/gInfo/g_key/100001",function(t){if(!$.isEmptyObject(t)){var e=t[0],n=$('<div class="m-fullscreen-ad"><div class="mask"></div><div class="ad-main"><i class="close"></i><div class="ad-content"></div></div></div>').appendTo($body);n.find(".ad-content").css({width:winWidth,height:winHeight}).html('<a ga="ADG-100001/click/ADP-'+e.adId+'" href="'+e.url+'" target="'+e.link_target+'"><img src="'+e.img+'"></a>'),n.find(".close").on("click",function(){n.remove()}),setTimeout(function(){n.remove()},1e4)}}):$("div[data-adv='100001']").remove()},this.floatTool=function(){$(".weixin-dialog").mouseenter(function(t){var e=$(this).position(),n=e.left-260,i=e.top-150;$(".weixin-layer").css({right:n+"px",top:i+"px"}),$(".weixin-layer").fadeIn("400")}).mouseleave(function(t){$(".weixin-layer").fadeOut("400")}),$("#online_service").mouseenter(function(t){var e=$(this);_t=setTimeout(function(){e.find(".service-dialog").fadeIn("400")},300)}).mouseleave(function(t){clearTimeout(_t),$(this).find(".service-dialog").fadeOut("400")}),$("#float_qrcode").mouseenter(function(t){var e=$(this);_t=setTimeout(function(){e.find(".big-qr").fadeIn("400")},300)}).mouseleave(function(t){clearTimeout(_t),$(this).find(".big-qr").fadeOut("400")});var t=document.documentElement.scrollTop+document.body.scrollTop;t>200&&$("#back_to_top").fadeIn(400),$(window).scroll(function(){var t=document.documentElement.scrollTop+document.body.scrollTop;t>200?$("#back_to_top").fadeIn(400):$("#back_to_top").stop().fadeOut(400)}),$("#back_to_top").click(function(){$("html,body").animate({scrollTop:"0px"},200)})},this.topTool(),this.bottomTool(),this.floatTool()}!function(t,e,n,o){var a="//g.ecovacs.cn",r=t(e),s=r.width(),c=r.height(),l={6:"richtext",5:"richtext",4:"richtext",3:"text",1:"image"},d={0:"normal",1:"carousel",3:"layer"},u="<style>.kws-ad-close{z-index: 9999;position: absolute;top: 0;right: 0;width: 19px;height: 19px;font-size: 20px;background: rgba(0,0,0,.2) none repeat scroll 0 0!important;filter: alpha(opacity=20);background: #000;text-align: center;line-height: 19px;cursor: pointer;}.kws-ad-close:hover{background:rgba(0, 0, 0, 0.3) none repeat scroll 0 0 !important;filter:Alpha(opacity=30); background:#000;}.kws-ad-close>span{position: relative;display: block;color: #fff;}.kws-ad-modal{z-index: 99999;position: fixed !important;opacity: 0.5;background:#000;top:0;left:0;right:0;bottom:0;width:100%}.kws-ad-layer{z-index: 999999 !important;position: absolute;overflow: hidden;}.kws-ad-layer-closeBtn{width: 80px;height:80px;overflow:hidden;position:absolute;right:-2px;top: -2px;cursor: pointer}.kws-ad-overscreen{position:absolute;width:4000px;left:50%;margin-left:-2000px;top:0;text-align:center;}</style>";t(u).appendTo("head"),carousel=function(e){if(e.length<=1)return void e.fadeIn();var n=this,o=[];return n.total=e.length,n.current=null,n.currInterval=null,n.init=function(){for(i=0;i<n.total;i++){var a=t(e[i]);a.hide(),o.push(a)}return n.current=0,n.start(),o},n.start=function(){var t=o[n.current];return t.fadeIn("slow","linear"),n.currInterval=setTimeout(function(){n.next()},5e3),n},n.next=function(){var t=n.current+1;return t>=n.total&&(t=0),o[n.current].fadeOut("fast","linear"),n.current=t,n.stop().start(),n},n.stop=function(){return clearTimeout(n.currInterval),n},n.init()},layer=function(e,i){var o,a="data:image/png;base64,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",l=t("<div></div>").addClass("kws-ad-modal").css({height:t(n).height()}).appendTo("body");e.addClass("kws-ad-layer").css({left:(s-e.width())/2,top:r.scrollTop()+(c-e.height())/2}),o=t('<div class="kws-ad-layer-closeBtn"><img src="'+a+'"></div>'),o.click(function(){e.remove(),l.remove()}),o.prependTo(e),i&&setTimeout(function(){e.remove(),l.remove()},1e3*i)},Adv=function(e,n){var o=this;return o.init=function(){o.posId=n.posId,o.type=o.mapType(+n.type),o.effect=o.mapEffect(+n.effect),o.data=n.list,o.duration=+n.duration,o.width=n.width?n.width:e.width(),o.height=n.height?n.height:e.height(),o.closeBtn=!!e.attr("data-closeBtn"),o.isOverscreen=!!e.attr("data-overscreen"),o.render()},o.mapType=function(t){return l.hasOwnProperty(t)?l[t]:""},o.mapEffect=function(t){return d.hasOwnProperty(t)?d[t]:"normal"},o.render=function(){var n="render"+o.ucfirst(o.type);if("function"==typeof o[n]){o.closeBtn&&(e.css({position:"relative"}),t('<div class="kws-ad-close"><span>×</span></div>').appendTo(e).click(function(){t(this).parent().hide()}),t(".top-ad-1 .kws-ad-close").css({right:(s-1140)/2}));var i=o[n]();o.isOverscreen?(i.addClass("kws-ad-overscreen").appendTo(e),t("img",i).css({"max-height":"100%"})):(i.css({width:o.width?o.width:"100%",height:o.height?o.height:"100%",overflow:"hidden"}).appendTo(e),t("img",i).css({"max-width":"100%","max-height":"100%"})),o.effects(),e.show()}t.fn.lazyload&&t("img",e).lazyload()},o.aDom=function(t){var e,n=t.hasOwnProperty("link_target")&&t.link_target?t.link_target:"_blank";return e='<div class="item" data-adkey="'+o.posId+'" data-adid="'+t.adId+'"><a href="'+t.url+'" target="'+n+'">'+t.content+"</a></div>"},o.renderText=function(){var e="",n=o.data,a=t('<div class="kws-adv text"></div>');for(i in n){var r=n[i];r.content=r.text,e+=o.aDom(r)}return a.html(e),t(".item",a).css({width:"100%","line-height":o.height+"px"}),a},o.renderImage=function(){var e="",n=t('<div class="kws-adv image"></div>'),a=o.data;for(i in a){var r=a[i];r.content='<img src="'+r.img+'">',e+=o.aDom(r)}return n.html(e),t(".item",n).css({width:"100%",height:"100%","float":"left"}),n},o.renderRichtext=function(){var e="",n=o.data,a=t('<div class="kws-adv richtext"></div>');for(i in n){var r=n[i];e+='<div class="item" data-adkey="'+o.posId+'" data-adid="'+r.adId+'">'+r.content+"</div>"}return a.html(e),a},o.effects=function(){return"normal"!==o.effect?"carousel"===o.effect?new carousel(t("div.item",e)):"layer"===o.effect?new layer(e,o.duration):void 0:void 0},o.ucfirst=function(t){return(t+"").toLowerCase().replace(/^./,function(t){return t.toUpperCase()})},o.init()},t.fn.kwsAdv=function(e){var n=t(this),r={},s="";0!=n.length&&(n.each(function(){var e=t(this).attr("data-adv");e!==o&&e&&(r[e]=t(this),s+="_"+e,t(this).removeAttr("data-adv"))}),""!==s&&(s="ids"+s,t.ajax({url:a+"/info/get/g_key/"+s,dataType:"jsonp",jsonp:"jsonp_callback",jsonpCallback:s,async:!0,cache:!0,success:function(e){if(!t.isEmptyObject(e.data)){var n=e.data;for(i in n){var o=n[i],a=o.ad_key;a>0&&(o.posId=+a,new Adv(r[a],o))}}}})))}}(window.jQuery||window.Zepto,window,document),$(function(){setTimeout(function(){$("div[data-adv]").kwsAdv()},1e3)});var webInit=function(){var t=$("body"),e="kf_9290",n="kf_9290_1499407895818";NTKF_PARAM={siteid:e,settingid:n,uid:"0",uname:"",isvip:"0",userlevel:"1",erpparam:{sign:"",uid:"0",uname:"",isvip:"0"}},"undefined"==typeof SELF_NTKF_PARAM||$.isEmptyObject(SELF_NTKF_PARAM)||$.extend(NTKF_PARAM,SELF_NTKF_PARAM);var i=function(){var t=util.userInfo();$.isEmptyObject(t)||""==t.username||(NTKF_PARAM.uid=t.uid,NTKF_PARAM.uname=null==t.username?"":t.username,NTKF_PARAM.userlevel=t.group_id,NTKF_PARAM.erpparam.sign=t.sign,NTKF_PARAM.erpparam.uid=NTKF_PARAM.uid,NTKF_PARAM.erpparam.uname=NTKF_PARAM.uname),NTKF_PARAM.erpparam=encodeURIComponent(JSON.stringify(NTKF_PARAM.erpparam))};i(),$.getScript("//dl.ntalker.com/js/xn6/ntkfstat.js?siteid="+e,function(){t.on("click",".openChatBox",function(t){t.preventDefault(),i(),NTKF.im_updatePageInfo({uname:NTKF_PARAM.uname,uid:NTKF_PARAM.uid});var e=$(this).attr("data-group");e=void 0!==e?e:n,util.isLogin()?(kwsEventTrack("xiaonengtj/click/"+DEVICE+"-haslogin-"+e),NTKF.im_openInPageChat(e)):(kwsEventTrack("xiaonengtj/click/"+DEVICE+"-nologin-"+e),util.hasOwnProperty("loginDialog")?util.loginDialog().open():location.href=ACCOUNT_URL+"/login.html?callback="+encodeURIComponent(location.href))})})},globalappInit=function(){$body.on("click",".openChatBox",function(t){t.preventDefault(),globalApp.openChat()})};if($(function(){"globalapp"===DEVICE?globalappInit():webInit()}),void 0===ECOVACS_JSONP_API)var ECOVACS_JSONP_API="/async";var jsonpLazyload=function(t){var e=$(window).height(),n=[],o=0,a=1;return init=function(){$(t).each(function(){var t=whichWin($(this).position().top);void 0===n[t]&&(n[t]=[]),n[t].push($(this))}),$(window).on("scroll",function(){var t=$(this).scrollTop();if(n.length>0&&isDown(t)){var e=whichWin(t),o=e+a;for(refreshBeforeScrollTop(t),i=0;i<=o;i++)queueProcess(i)}})},queueProcess=function(t){if(n.hasOwnProperty(t)){for(;n[t].length>0;)jsonp(n[t].shift());delete n[t]}},jsonp=function(t){var e=t.attr("data-load-callback");$.ajax({url:ECOVACS_JSONP_API+"/"+e,dataType:"jsonp",jsonpCallback:e,cache:!0,success:function(e){$("img",t).error(function(){this.src=errorImg()})},error:function(){}})},whichWin=function(t){return Math.ceil(t/e)},refreshBeforeScrollTop=function(t){o=t},isUp=function(t){return o>t?!0:!1},isDown=function(t){return t>o?!0:!1},errorImg=function(){return placeholdImg},this.init(),n};!function($,window,document,undefined){"use strict";function _loadImg(t){t.hide().attr("src",t.attr("data-original")).attr("loaded",1).fadeIn("slow").one("error",function(){this.src=placeholdImg})}$.fn.lazyload=function(opt){function loadQueue(){if(!$.isEmptyObject(queue)){var t=$window.scrollTop(),e=t+windowHeight;$.each(queue,function(n,i){var o=isNativeWin?i.offset().top:i.position().top,a=o+i.height();(a>=e&&e>=o||e>=a&&o>=t||a>=t&&t>=o)&&(i.trigger("lazyAppear"),delete queue[n])})}}var $window,isNativeWin=!0;"object"==typeof opt&&opt.hasOwnProperty("window")?($window=$(opt.window),isNativeWin=!1):$window=$(window);var windowHeight=$window.height(),$elements=$(this),queue={};$elements.each(function(i){var $ele=$(this);if($ele.is("img")){if(1==$ele.attr("loaded"))return}else if($ele.is(".jsonp")&&$ele.attr("data-callback")===undefined)return;$ele.one("lazyAppear",function(){$ele.is("img")&&$ele.attr("data-callback")===undefined&&$ele.attr("data-callback","_loadImg");var callback=$ele.attr("data-callback"),fun=eval(callback);fun($ele)}),queue[i]=$ele}),loadQueue(),$window.on("scroll ready",function(){loadQueue()})}}(window.jQuery||window.Zepto,window,document);var SHOP_HOME_URL=SHOP_URL+"/index.php",placeholdImg="data:image/.gif;base64,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",noheadIcon=defaultAvatar="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjAyODJBMTFCNTA2MTFFNjgzRTA4RTc4QjU4M0M5MjQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjAyODJBMTBCNTA2MTFFNjgzRTA4RTc4QjU4M0M5MjQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0M0IwQTU3MkFCRDgxMUU2OEM0NkM0QjVCNkM3NjYzRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0M0IwQTU3M0FCRDgxMUU2OEM0NkM0QjVCNkM3NjYzRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmwTI/YAAAXMSURBVHja7FzZbus6DEwVt1na/P9nFuiare2d40EJXtlxJNnUsXLEh8JIE8oaDTeJ9t3z8/OiSpi4CkEFq4JVwapgVbAqWBWCAsC6a6UssJq/NfDPz09lVjXDKhWsClYF6x+Phl4asVwum6ZxzumU4vv7+6uV71b+dbAA0MPDw/39/dWc69jK+XweBp0QG2VwTR7iIKviX/kQABGmQCUPrZxOp8PhQMigELiAjD+tiH67XDcHWJySLDj+bjYbzDxB1X0rwGu/3xMgKtcrwc9LdfAypT/jObfb7XoJFZjT42ur1erp6UkUQrn+rR2zMkVDrjyRIhEueZyrSPFrCAhURcLeFFjCqUszCaGVZ1+4hkKgRuWaxcUzC4bjUUDDFEKH7neoVnC0dvDmYHEC2+1WFj/B+oYJC+U6jJSUwXvcARYIfMin7ByKTkFM98ichcV5n6zX614DnFAwBBOugmtD3D2WnQZouuaslsoGCwAhJ8rjFjGQ9T61LVjLVjKEWpaZl2JIGWCJX19k2XTXw5UNlp2NcBnwtzywNIM8GzQil+xqlGeGwqDuyaAduai5YJ+V/xjVmlzuZpASfpW3+cfdy5xIiZu3G9eZ3n1OvOjmTTceXIbVziay5WA0ri2zvr6+/gpYJZmhLGxmsKyHcxYWJ1HpdDrlBMt6uMnA6vpUwMcjZc+DTOtQJAiez+cizVDP5HA4dPP4CfESFmMga+aagKXROR6P3QWfPLRjCG2DJUVD714/Pz/tJkC1Hx8fGYrQHEdhp1aMJkADzBNJMp0bYuXlkH1aisGv7/f7PHVopgweF29vbxY2AhvP4BNzgKVvGlMCXpcKxii68ctQ+PLygtSkN2sp2Awlw359fe3NhgK7Qha/J/VQBeipir+16zTKB5bMRPgFvNJyItk+xs/BKa1Tp28FN7PJBHQuCpeM+LVarXjsfpUU8gW6c5qeaPOYZbfVkaPzT1pc2KJFIpxbWS6XHmQaOH3N/GCgpzTD8X0OZsk0tKXwAhxBVsFuZYhrRQjCJmU2LF+ijKjS/zXyX+ZgcfKbzQZ1D5u0uxRgGTzcidw7f3wIVjZNg99C/+K3a7LUbmVY2Xq9XrSNQciJYE1pk+n9CdZAlAM15lx29pgC1qVtA3FJdOdY8O12qyfJJmXgRRb0kuXqngRHgXIsgz6CJl5w/9zn0L3M3cbyxMie8BKMEI+wbqUbE8UZgQW0ysAGSWoQmAb6TbASrKu1u5xkaygaLC6XPnbutvo9Pj6yW2oYCIB1/pWBaZCn7MACd+QYtatfPmHckLAwlQu7m+r1KgQRU5IO9Siqyp6qzu95wswo2evde1EQA3x/f2f1LmY40p2lg6UzQN4KkYpaRusaBSWR7GuPN8P0ckeXxPSjUUiNKU28anygMifNp8rs3Xhakd6C1NVp9NaMUZPxGil6sRAe7Xa7qbYiXDKtFr8tPuzc53X3jsOzp5H22JuF8IJ4je9VcWNujmERyZQE8nm+rQELiQA9QK5A0rnkBaT1ASZkg/N8SYP3eCOys24VGdWl5EbeBB8Fmee7P7y7QpKMTM3jftQyR4OlH1lD+WLdmTgtdsBrjBEkmiFLv9ka4CVr4BaFJHexBpHOC5Z+1g/lTG6S+kGi2DtPBKtpZfH/B/2KEBaYafmKG0OrhTpEmLP1dbfYcjh4vU8SvgM1n4Ao5Ep7osgljJ32loFZSdoUXOyy9I5U3DvWwl++EQpWr3FleFItTwGU8FSUy7Mm8ySXeeqQ4enaPFEy5G1Bo8Bi5Zyta8U0SvJAd3qwBB2JuLH7VvNMviYGy0vQ9b5VuTbYXftpwJJXu+R5+jGzxILVBC4CzwgyPEo/Z7Cu5Fn6DCbBI87fHqP8SXOVVvqQ0ms3vwGwZHajwOrdITsej0W79qiqLsIMvbfo3UAQnKBICjHpG8YoasvUhei6YTE/CqtmWKWCVcGqYFWwKlgVrCoVrApWBasA+U+AAQBNFw9FvvKSLwAAAABJRU5ErkJggg==",$body=$("body"),$window=$(window),winWidth=$window.width(),winHeight=$window.height();document.domain="ecovacs.cn",$.fn.kwsTips=function(t){return this.each(function(){var e=$(this),n=null;t.isAuto=!1,t.offsetX=e.offset().left,t.offsetY=e.offset().top+e.outerHeight(),e.hover(function(){null===n||n.isDestroy()?n=new Mtips(t):n.setCanDestroy(!1)},function(){null!==n&&(n.setCanDestroy(!0),n.destroy())})})},$.fn.kwsDialog=function(t){var e=new Mdialog(t);return e.content($(this)),$(this).show(),e},$.ajaxSetup({xhrFields:{withCredentials:!0},headers:{"X-Requested-With":"XMLHttpRequest"}});var util=function(){var t,e;return{ACCOUNT_URL:"undefined"!=typeof ACCOUNT_URL?ACCOUNT_URL:"//account.ecovacs.cn",SHOP_URL:"undefined"!=typeof SHOP_URL?SHOP_URL:"//mall.ecovacs.cn",SHOP_ORDER_URL:"undefined"!=typeof SHOP_ORDER_URL?SHOP_ORDER_URL:"//order.ecovacs.cn",SHOP_CART_URL:"undefined"!=typeof SHOP_CART_URL?SHOP_CART_URL:"//cart.ecovacs.cn/cart",API_URL:"undefined"!=typeof API_URL?API_URL:"//shop-api.ecovacs.cn",STATIC_URL:"undefined"!=typeof STATIC_URL?STATIC_URL:"//static.ecovacs.cn/p",get:function(t,e,n){var i={type:"GET"};util.ajax(t,i,e,n)},post:function(t,e,n,i){var o={dataType:"json",type:"POST",data:e};this.ajax(t,o,n,i)},jsonp:function(t,e,n){var i={dataType:"jsonp",jsonp:"jsonp_callback",async:!0,cache:!0};util.ajax(t,i,e,n)},ajax:function(t,e,n,i){var o=this;e.url=t,e.success=function(a){function r(){for(var e=["/goods/favorite","/cart/add"],n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0}"json"==e.dataType&&"object"!=typeof a&&(a=JSON.parse(a)),a&&void 0===a.code?"function"==typeof n&&n(a):"1"==a.code?"function"==typeof n&&n(a.data,a.msg):10001==a.code?r()?o.loginDialog().open():location.href=ACCOUNT_URL+"/login.html?callback="+encodeURIComponent(location.href):404==a.code?window.location.href=SHOP_URL+"/error.html?msg="+a.msg:i?i(a):util.alert(a.msg)},$.ajax(e)},alert:function(t){alert(t)},confirm:function(t,e){var n=new Mdialog({m:"confirm",title:"操作确认",closeByMask:!1,closeByEsc:!1});n.content('<div class="msg-content">'+t+'</div><div class="f-action"><button class="u-btn J-confirm">继续</button></div>'),n.open(function(t){t.find(".J-confirm").click(function(){"function"==typeof e&&e(),n.destroy()})})},noticeMsg:function(t){$(".m-noticeMsg").remove();var e=$(window).width()/2,n=$('<div class="m-noticeMsg"></div>').appendTo("body");n.html(t).css({left:e-n.outerWidth()/2,top:-50}).animate({top:0},"fast"),setTimeout(function(){n.animate({top:-50},500),setTimeout(function(){n.remove()},1e3)},3e3)},iframeDialog:function(t,e){var n="",i=780,o=580,a="yes";"object"==typeof e&&(e.title&&(n=e.title),e.width&&(i=e.width),e.height&&(o=e.height),e.scrolling&&(a=e.scrolling));var r=new Mdialog({m:"iframe",title:n,closeType:"close"}),s='<iframe id="iframe-dialog" src="'+t+'" width="'+i+'" height="'+o+'" frameborder="0" scrolling="'+a+'"></iframe>';
r.content(s).open()},isLogin:function(){var t=this.userInfo();return!($.isEmptyObject(t)||""===t.username)},checkLogin:function(t){return"undefined"==typeof t&&(t=window),this.isLogin()||(t.location.href=ACCOUNT_URL+"/login.html?callback="+encodeURIComponent(location.href)),this.isLogin()},loginDialog:function(){if(!t){t=new Mdialog({m:"login",title:"",closeType:"close"});var e='<iframe id="mini-dialog" src="'+ACCOUNT_URL+"/login_mini.html?callback="+encodeURIComponent(location.href)+'" width="395" height="500" frameborder="0" scrolling="no"></iframe>';t.content(e)}return t},loginDialogClose:function(e){t&&(t.close(),setTimeout(function(){t.destroy(),t=null},500))},okMsg:function(t){var e,n=new Mdialog({m:"msg-ok",title:"提示"});e='<div class="msg-content"><i class="icon-success"></i>'+t+"</div>",n.content(e).open()},noMsg:function(t){var e,n=new Mdialog({m:"msg-no",title:"提示"});e='<div class="msg-content"><i class="icon-error"></i>'+t+"</div>",n.content(e).open()},msg:function(t){var e,n=new Mdialog({m:"msg",title:""});return e='<div class="msg-content">'+t+"</div>",n.content(e).open(),n},imgPreview:function(t){var e=new Mdialog({m:"preview",title:""});return e.content('<div class="preview-content"><img src="'+t+'"></div>').open(function(t){t.find(".preview-content").width(t.width()).height(t.height()-60)}),e},round:function(t,e){return t=parseFloat(t),parseFloat(t.toFixed(e))},loadingLayer:function(){if(void 0===e){var t=lockLayer("loading");e={close:function(){t.close(),e=void 0}}}return e},dateDiff:function(t,e){void 0===e&&(e=+new Date);var n=+new Date(t.replace(/-/g,"/"))-e;return Math.ceil(n/864e5)},isIE:function(){return $.support.opacity?!1:!0},getCookie:function(t){return document.cookie.length>0&&(c_start=("; "+document.cookie).indexOf("; "+t+"="),-1!=c_start)?(c_start+=t.length,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),decodeURIComponent(document.cookie.substring(c_start,c_end).replace("=",""))):""},errorPage:function(t){return util.SHOP_ORDER_URL+"/site/errordisplay/code/"+t},refreshCart:function(){var t=$(".site-topbar i.icon-cart"),e=util.getCookie("user_cart_num");e=isNaN(e)?0:+e,e>0?t.removeClass("icon-cart").addClass("icon-cart-active"):0==e&&t.removeClass("icon-cart-active").addClass("icon-cart")},loadJs:function(t){"undefined"!=typeof t&&0!=t.length&&!function(){var e=t.length;for(i=0;i<e;i++){var n=document.createElement("script");n.src=t[i];var o=document.getElementsByTagName("body")[0];o.appendChild(n)}}()},goodsLink:function(t){return util.SHOP_URL+"/product-"+t+".html"},goodsBuy:function(t,e,n){var i={};i.order_type="common",i.num=e,i.id=t,"undefined"!=typeof n&&$.isEmptyObject(n)&&$.extend(i,n),$.ajax(SHOP_ORDER_URL+"/order/directBuy",i,function(t){1==t.code?location.href=SHOP_ORDER_URL+"/order/checkout":alert(t.msg)})},checkout:function(t,e,n){var i={goods:t,order_type:e};void 0!==n&&(i.id=n),util.post("/shopApi/order/createOrderParams",i,function(t){window.location.href=SHOP_ORDER_URL+"/order/checkout"})},userInfo:function(){var t=util.getCookie("userinfo");return""!=t?JSON.parse(t):{}},userAvatar:function(t){return t?'<img src="'+t+'" class="avatarImg">':'<img src="'+defaultAvatar+'">'},isHtml5:function(){return"undefined"!=typeof Worker},openNewWindow:function(t){var e=window.open(t,"_blank");e.focus()},bcadd:function(t,e,n){var i,o,a;try{i=t.toString().split(".")[1].length}catch(r){i=0}try{o=e.toString().split(".")[1].length}catch(r){o=0}a=Math.pow(10,Math.max(i,o));var s=(t*a+e*a)/a;return void 0===n?+s:this.round(s,n)},bcsub:function(t,e,n){var i,o,a,r;try{i=t.toString().split(".")[1].length}catch(s){i=0}try{o=e.toString().split(".")[1].length}catch(s){o=0}a=Math.pow(10,Math.max(i,o)),r=i>=o?i:o;var c=((t*a-e*a)/a).toFixed(r);return void 0===n?+c:this.round(c,n)},bcmul:function(t,e,n){var i=0,o=t.toString(),a=e.toString();try{i+=o.split(".")[1].length}catch(r){}try{i+=a.split(".")[1].length}catch(r){}var s=Number(o.replace(".",""))*Number(a.replace(".",""))/Math.pow(10,i);return void 0===n?+s:this.round(s,n)},bcdiv:function(t,e,n){var i,o,a=0,r=0;try{a=t.toString().split(".")[1].length}catch(s){}try{r=e.toString().split(".")[1].length}catch(s){}i=Number(t.toString().replace(".","")),o=Number(e.toString().replace(".",""));var c=i/o*Math.pow(10,r-a);return void 0===n?+c:this.round(c,n)}}}();!function(t,e){t=t&&t.hasOwnProperty("default")?t["default"]:t,e=e&&e.hasOwnProperty("default")?e["default"]:e;var n={signin_flag:!1,refreshUserInfo:function(){function n(){location.search.indexOf("signdialog_on=1")>-1&&e(".site-topbar .user .sign-status").click()}var i=this;this.signin_flag=this.getCookie("signin_flag");var o="",a=this.userInfo(),r=encodeURIComponent(location.href),s=!(e.isEmptyObject(a)||""==a.username);s?(o+='<a href="'+t.ACCOUNT_URL+'/member.html" ga="login/click/username" class="u-nickname">'+a.username+"</a>，",o+=this.signin_flag?"1"===this.signin_flag?'<span class="sign-status">签到领积分</span>':'<span class="sign-status is-signed">今日已签到</span>':'<span class="sign-status">...</span>',o+='<a href="'+t.ACCOUNT_URL+"/account/member/logout?callback="+r+'" ga="login/click/loginout">退出</a><span class="sep">|</span>'):(o+='<a href="'+t.ACCOUNT_URL+"/login.html?callback="+encodeURIComponent(location.href+(location.search?location.search.indexOf("&")>-1?"":"&":"?")+"signdialog_on=1")+'" rel="nofollow" ga="login/click/login"><span class="sign-status">签到领积分</span></a><span class="sep">|</span>',o+='<a href="'+t.ACCOUNT_URL+"/login.html?callback="+r+'" rel="nofollow" ga="login/click/login">登录</a><span class="sep">|</span>',o+='<a href="'+t.ACCOUNT_URL+"/register.html?callback="+r+'" rel="nofollow" ga="login/click/reg">注册</a><span class="sep">|</span>'),o+='<a href="'+t.ACCOUNT_URL+'/member-order.html" rel="nofollow" ga="login/click/myorder">我的订单</a>',o+='<a class="cart" ga="login/mouseover/shopCart" href="'+t.SHOP_CART_URL+'"><i class="icon-v2 icon-cart"></i>购物车</a>',e(".site-topbar .user").html(o).on("click",".sign-status",function(){i.signin_flag&&i.openSignDialog()}),s&&!this.signin_flag?this.getSignInfo().then(n):n(),this.refreshCart()},updateSign:function(){"0"===this.signin_flag?e(".site-topbar .user .sign-status").addClass("is-signed").text("今日已签到"):e(".site-topbar .user .sign-status").text("签到领积分")},getSignInfo:function(){var n=this,i=e.Deferred();return t.ajax("/shopApi/sign/getInfo",{dataType:"json"},function(t){n.times=t.times,n.signin_flag=t.status,n.scores=[t.first_action,t.second_action,t.third_action],n.updateSign(),i.resolve()},i.reject),i.promise()},openSignDialog:function(){var n,i=this,o=new Mdialog({title:"签到",closeCall:function(){i.isFirstSign&&(location.href="/jifen")}});if("1"===this.signin_flag){var a=e.Deferred();t.post("/shopApi/sign/signIn",null,function(t){i.times=t.times,i.signin_flag="0",i.scores=[t.first_action,t.second_action,t.third_action],i.updateSign(),a.resolve(),i.isFirstSign=!0},function(){i.getSignInfo().then(a.resolve)}),n=a.promise()}else this.isFirstSign=!1,n=this.times?e.Deferred().resolve():this.getSignInfo();o.content('<div class="sign-con" id="sign-dialog"><div class="sign-top">正在获取数据...</div></div>').open();var r=e("#sign-dialog");n.then(function(){var t=30,e=[{min:0,max:7,score:i.scores[0],color:"#bce6f4"},{min:7,max:20,score:i.scores[1],color:"#729caa"},{min:20,max:29,score:i.scores[2],color:"#243746"}],n=1e3/(t-1),a='<div class="sign-top"><div class="sign-days"><p>已连续签到天数</p><span class="sign-days__num">'+i.times+'</span>天</div><div class="sign-state">今日已签到</div></div>';a+='<p class="sign-gray">连续签到，获取更多奖励~</p>',a+='<svg class="sign-process" viewBox="0 0 1200 180" width="100%" height="180px">',a+='<g transform="translate(100,120)">',a+=e.map(function(t,e){var i=t.max-t.min,o='<g transform="translate('+t.min*n+',0)" style="fill:'+t.color+'">';o+='<g transform="translate('+i*n/2+',0) scale(1.5)"><text text-anchor="middle" x="0" y="20" fill="#999"><tspan style="fill:#253646">每天'+t.score+'积分</tspan><tspan x="0" dy="18">连续签到'+(t.min+1)+"到"+(2===e?t.max+1:t.max)+"天</tspan></text></g>";for(var e=0;i+1>e;e++){var a=n*e;o+='<line x1="'+a+'" y1="-6" x2="'+a+'" y2="0" style="stroke:'+t.color+'" stroke-width="2"/>'}return o+='<line x1="0" y1="0" x2="'+i*n+'" y2="0" style="stroke:'+t.color+'" stroke-width="1"/>',o+="</g>"}).join("");for(var s=(i.times-1)*n,c=2;c>=0&&!(i.times>e[c].min);)c--;a+='\n<g transform="translate('+s+',0) scale(1.5)">\n<g transform="translate(0,-40)"><path d="M0,-20l-10,-8h-30v-20h80v20h-30Z" stroke="#9fd6eb" fill="#fff" /><text x="0" y="-33" text-anchor="middle">当前位置</text></g>\n<path d="M0,-2l-13,-22h26Z" fill="'+e[c].color+'" />\n<g transform="translate(0,-35)"><circle r="22" fill="#fff" stroke="'+e[c].color+'"/><text text-anchor="middle" y="-5">'+e[c].score+'</text><text text-anchor="middle" y="12">积分</text>\n</g>',a+="</g>",a+="</svg>",a+='<div class="sign-rule"><h3>活动规则</h3><ul><li>1、从用户签到日开始计算，以（30天）为1个周期，每日可签到一次；连续签到第1——7天，每日获得10积分，连续签到第8——20天，每日获得15积分，连续签到第21——30天，每日获得20积分；<a href="/jifen/vipGrowup/integralRule" style="text-decoration:underline">查看更多</a></li></ul></div>',r.html(a),o.close(),o.open()})}};e.extend(t,n)}(util,$),$.fn.kwsPlaceholder=function(t){var t=t||"#999";return"placeholder"in document.createElement("input")?!1:this.each(function(e,n){var i=(this.name||this.id)+"_phid_"+e,o=$(this),a=o.attr("class"),r=o.attr("placeholder");o.before("<input type='text' id="+i+" class='"+a+"' value='"+r+"'>");var s=$("#"+i);s.hide().css("color",t),""==this.value&&(o.hide(),s.show()),s.focus(function(){$(this).hide(),o.show(),o.focus()}),o.blur(function(){""==this.value&&(o.hide(),s.show())})})},$(function(){appInit(),$("input[placeholder]").kwsPlaceholder(),$body.on("click",".J-addCart",function(t){t.stopPropagation();var e=+$(this).attr("data-id");if(e)return util.isLogin()?void util.jsonp(util.SHOP_CART_URL+"/add/s/"+e+"_1",function(){alert("添加成功！")}):void util.loginDialog().open()}),!function(){window.kwsEventTrack=function(t){var e=["_trackEvent"].concat(t.split("/"));window._hmt&&window._hmt.push(e),window._gaq&&window._gaq.push(e)},$("body").on("click","[ga]",function(){var t=$(this).attr("ga");null!==t&&""!==t&&kwsEventTrack(t)})}(),$("img").one("error",function(){this.src=placeholdImg}),$(".avatar img").one("error",function(){this.src=noheadIcon})});